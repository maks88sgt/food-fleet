# Концептуальный проект веб‑приложения для клиентов FoodFleet

## 1. Общее описание

В этом документе представлена концептуальная архитектура веб‑приложения FoodFleet для клиентов. Команда FoodFleet планирует переработать текущее MVP‑приложение, чтобы обеспечить его масштабируемость и готовность к активному росту. Цель — завершить работу к крупному маркетинговому запуску в конце 2026 года.

Документ охватывает архитектурные требования, содержит высокоуровневое проектирование, рассматривает альтернативные варианты и определяет график реализации.

## 2. Контекст

Текущее MVP‑приложение FoodFleet имеет ограничения, которые не позволяют ему масштабироваться в соответствии с ожидаемым ростом команды и пользовательской базы. Задача — разработать новую архитектуру, которая будет:
- масштабируемой;
- модульной;
- удобной в сопровождении.

Это позволит фронтенд‑команде работать эффективнее и быстрее выпускать новые функции. Новая архитектура должна соответствовать бизнес‑целям и техническим ограничениям, определённым заинтересованными сторонами.

Новое веб‑приложение для клиентов — часть **системы FoodFleet**. Это программное решение, которое позволяет:
- клиентам оформлять и отслеживать заказы;
- ресторанам управлять заказами;
- курьерам забирать и доставлять заказы.

![Диаграмма контекста системы](https://s3.twcstorage.ru/f280a6ef-learning-hub-test/lessons/frontend-architecture/assets/System%20Context%20Diagram%20FoodFleet.png)

## 3. Цели и ограничения

### Цели

- **Масштабируемость**: разработать архитектуру, способную поддерживать рост команды и увеличение числа пользователей.
- **Модульность**: обеспечить модульность кодовой базы, чтобы несколько разработчиков могли работать параллельно без конфликтов.
- **Производительность**: оптимизировать приложение для быстрой загрузки и плавного взаимодействия с пользователем, особенно на мобильных устройствах.
- **Доступность**: обеспечить соответствие стандартам доступности WCAG 2.2.
- **Обновления в реальном времени**: реализовать обновления в реальном времени для отслеживания статуса заказа и доставки.

### Ограничения (то, что не входит в проект)

- **Переработка бэкенд‑системы**: проект сосредоточен исключительно на архитектуре фронтенда. Бэкенд останется без изменений, за исключением необходимых интеграций.
- **Разработка нативных мобильных приложений**: проект ограничен веб‑приложением и не включает создание нативных мобильных приложений.

## 4. Концептуальное проектирование


Мы создадим веб‑приложение для клиентов как монолитное серверно‑рендеренное React‑приложение с использованием Next.js. Как и другие клиентские приложения, веб‑приложение для клиентов будет взаимодействовать с основной базой данных и внешними сервисами через существующий Core API. Также оно будет подключаться к WebSocket серверу для обмена данными в реальном времени.

### Диаграмма контейнеров

![Диаграмма контейнеров](https://s3.twcstorage.ru/f280a6ef-learning-hub-test/lessons/frontend-architecture/assets/Container%20Diagram.png)

### Архитектурный стиль


- **Компонентная архитектура**: использование компонентной архитектуры на React для создания повторно используемых UI‑компонентов.
- **Серверно‑рендеренное приложение**: применение Next.js для серверного рендеринга, генерации статических страниц и повышения производительности.
- **Монорепозиторий**: разработка фронтенд‑приложений и пакетов в монорепозитории для ускорения разработки и упрощения обмена кодом.
- **TypeScript**: использование TypeScript для типобезопасности и улучшения опыта разработки, с возможностью постепенного внедрения для всех членов команды.
- **Обмен данными в реальном времени**: интеграция WebSockets через Socket.io для обновлений статуса заказа и местоположения курьера в реальном времени.

### Ключевые компоненты

1. **Модуль «Главная»**: служит стартовой страницей, отображает избранные рестораны, рекламные баннеры и персонализированные рекомендации.
2. **Модуль «Авторизация»**: управляет регистрацией пользователей, входом в систему и восстановлением пароля.
3. **Модуль «Доставка»**: обрабатывает варианты доставки и отслеживание заказа в реальном времени.
4. **Модуль «Самовывоз»**: управляет процессом самовывоза заказов из ресторанов.
5. **Модуль «Ресторан»**: отображает подробную информацию о ресторанах и их меню.
6. **Модуль «Корзина»**: управляет выбранными пользователем товарами до оформления заказа.
7. **Модуль «Позиция меню»**: отображает подробную информацию и опции настройки для каждой позиции меню.
8. **Модуль «Поиск»**: позволяет пользователям искать и фильтровать рестораны и блюда.
9. **Модуль «Профиль»**: управляет информацией о профиле пользователя и настройками.


### Технологический стек

- **Фронтенд**: React, Next.js, TypeScript, Redux, Socket.io.
- **Бэкенд**: Java Spring Boot (существующая система), MySQL (существующая система), WebSockets (существующая система).
- **Развёртывание**: инфраструктура AWS.

## 5. Рассмотренные альтернативы

1. **Одностраничное приложение (SPA) на React**: хотя клиентский SPA обеспечивает плавное взаимодействие с пользователем, он уступает в производительности загрузки страниц и масштабируемости серверному рендерингу Next.js.
2. **Vue.js**: некоторые члены команды знакомы с Vue.js, но большинство имеет опыт работы с React и Next.js, что делает их более подходящим выбором.
3. **Remix**: Remix также рассматривался как вариант, но никто в команде не имел опыта работы с ним. Неизвестные риски при жёстких сроках сделали Next.js более предпочтительным решением.


## 6. График реализации

### Этап 1: Исследование и планирование (октябрь 2025 – ноябрь 2025)

- Окончательное согласование требований и сбор детальных спецификаций.
- Проектирование архитектуры и создание подробной технической документации.

### Этап 2: Начальная разработка (ноябрь 2025 – январь 2026)

- Настройка структуры проекта и конфигурации среды разработки.
- Реализация базовых модулей: «Главная», «Авторизация», «Поиск» и «Профиль».

### Этап 3: Разработка функционала (январь 2026 – февраль 2026)

- Реализация оставшихся модулей: «Доставка», «Самовывоз», «Ресторан», «Корзина» и «Позиция меню».
- Интеграция обновлений в реальном времени через WebSockets.
- Тестирование производительности и масштабируемости.

### Этап 4: Тестирование и развёртывание (март 2025)

- Комплексное сквозное тестирование (ручное и автоматизированное).
- Развёртывание в тестовой среде.
- Развёртывание в продуктивной среде и мониторинг проблем.

## 7. Риски и открытые вопросы

### Риски

- **Рост команды**: при трёхкратном увеличении численности команды могут возникнуть сложности с координацией и коммуникацией.
- **Узкие места производительности**: обеспечение оптимальной производительности для всех пользователей, особенно на мобильных устройствах, может потребовать значительных усилий по оптимизации.
- **Обновления в реальном времени**: реализация и тестирование функций в реальном времени может быть сложной и чреватой ошибками.

### Открытые вопросы

- **Сохранение корзины**: следует ли сохранять содержимое корзины для авторизованных пользователей?
- **Автодополнение поиска**: будет ли функция поиска включать автодополнение, и существует ли для этого endpoint API?
- **Дополнительные функции в реальном времени**: есть ли другие функции, требующие работы в реальном времени, помимо отслеживания заказа и статуса доставки?

## 8. Приложения

### Ссылки

- [Дизайн интерфейса в Figma](https://www.figma.com/design/4vx1SHfGEwVb4xe0bR4Vk5/FoodFleet-mockups)
- [Документ с архитектурными требованиями](https://github.com/maks88sgt/food-fleet/blob/main/requirements.md)
- [Модель предметной области](https://github.com/maks88sgt/food-fleet/blob/main/domain-model.md)
- [ADR1: Использование Next.js](https://github.com/maks88sgt/food-fleet/blob/main/adr-1.md)
